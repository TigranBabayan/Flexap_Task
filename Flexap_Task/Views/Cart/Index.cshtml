@model IEnumerable<Flexap_Task.Models.Cart>

@{
	Layout = "_Layout";
}

<!DOCTYPE html>
<html>
<head>
 <meta name="viewport" content="width=device-width" />
 <title>Index</title>
</head>
<body>
 <h3>Cart</h3>
 <form asp-action="Update" asp-controller="Cart">
  <table class="table">
   <thead>
	<tr>
	 <th scope="col">Product Name</th>
	 <th scope="col">Price</th>
	 <th scope="col">Quantity <input type="submit" value="Update" /></th>
	 <th scope="col">Sum</th>
	</tr>
   </thead>
   <tbody>
					@foreach (var product in Model)
		{																
			<tr>
				 <td>@product.CartProduct.ProductName</td>
				 <td>@product.CartProduct.Price</td>
				 <td><input type="number" name="quantity" value="@product.Quantity" /></td>
				 <td>@(product.CartProduct.Price * product.Quantity)  </td>
				 <td>
				  <a asp-controller="cart" asp-action="remove" asp-route-id="@product.CartProduct.Id">
				   <i class="fa fa-trash" aria-hidden="true" style="color:red"></i></a>
				 </td>
			</tr>
		}
	<tr>
	 <th scope="row">Total Sum</th>
	 <td colspan="4"><span class="float-right font-weight-bold">@ViewBag.total</span></td>
   </tbody>
  </table>
 </form>
 <div>
  <a asp-action="Index" asp-controller="Home">Back to Shop</a>
  <a asp-action="Purchase" asp-controller="Home" class="float-right">About Purchase</a>
 </div>
</body>
</html>
